(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,r){e.exports=r(67)},42:function(e,t,r){},64:function(e,t,r){},65:function(e,t,r){},66:function(e,t,r){},67:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),l=r(28),c=r(13),o=r(5),i=r(30),s=r(31),u=r(2),p="FETCH_PLAYERS_LOADING",m="FETCHED_PLAYERS",f="FETCH_PLAYERS_ERR",d="FILTER_PLAYERS",h={players:[],loading:!1,error:!1,search:null};var y=Object(o.combineReducers)({football:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(u.a)({},e,{loading:!0,players:[],error:!1});case m:return Object(u.a)({},e,{players:t.players,loading:!1,error:!1});case f:return Object(u.a)({},e,{error:t.err,loading:!1});case d:var r=Object(u.a)({},e).players,a=t.search;return Object(u.a)({},e,{search:a,players:r.filter(function(e){return e.age===a.age||e.position===a.position||e.name.includes(a.name)})});default:return e}}});r(42);var b=r(3),E=r(4),v=r(14),g=r(11),O=r(15),_=r(7),N=r.n(_),j=r(12),P=r(32),w=r.n(P);var k=function(e){var t=new Date(e);return new Number(((new Date).getTime()-t.getTime())/31536e6).toFixed(0)},I=function(){function e(t){Object(b.a)(this,e),this.http=void 0,this.http=t||w.a.create({baseURL:e.API_URL})}return Object(E.a)(e,[{key:"getPlayers",value:function(){var e=Object(j.a)(N.a.mark(function e(){var t,r;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.http.get("/players.json");case 3:return t=e.sent,r=t.data,e.abrupt("return",r.map(function(e){return{name:e.name,team:e.nationality,age:k(e.dateOfBirth),position:e.position}}));case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Error to fetch all players ".concat(e.t0));case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()}]),e}();I.API_URL="https://football-players-b31f2.firebaseio.com";var S=new I;function T(e){return{type:m,players:e}}r(64);var A=r(9),x=r(20),F=(r(65),function(){function e(){Object(b.a)(this,e)}return Object(E.a)(e,null,[{key:"validateField",value:function(t,r,a){switch(t){case e.INPUT_NAME:return null===r||0===r.trim().length?"Field can not be empty":/[a-zA-Z]/.test(r)?null:"Only letters";case e.INPUT_POSITION:return a.includes(r)?null:"Not exists the position";case e.INPUT_AGE:var n=parseInt(r);return n>18&&n<=40?null:"Age between 18 and 40";default:throw new Error("Input name not exists")}}},{key:"isValid",value:function(e){return JSON.stringify(e)===JSON.stringify({name:null,position:null,age:null})}}]),e}());F.INPUT_NAME="name",F.INPUT_POSITION="position",F.INPUT_AGE="age";var L=["Attacking Midfield","Central Midfield","Centre-Back","Centre-Forward","Defensive Midfield","Keeper","Left Midfield","Left Wing","Left-Back","Right-Back"];function R(e){var t=e.onSearch,r=Object(a.useState)({name:"",position:L[0],age:"18"}),l=Object(x.a)(r,2),c=l[0],o=l[1],i=Object(a.useState)({name:null,position:null,age:null}),s=Object(x.a)(i,2),p=s[0],m=s[1];return n.a.createElement("form",{className:"form-player-ctn",role:"search",method:"GET",onSubmit:function(e){return function(e){e.preventDefault(),F.isValid(p)&&t(c)}(e)},onChange:function(e){return function(e){var t=e.target,r=t.name,a=t.value;o(Object(u.a)({},c,Object(A.a)({},r,a))),m(Object(u.a)({},p,Object(A.a)({},r,F.validateField(r,a,L))))}(e)}},n.a.createElement("div",{className:"form-player-ctn__form-player-group"},n.a.createElement("input",{type:"text",name:F.INPUT_NAME,className:"form-control form-player-group__ctrl",placeholder:"Player Name",required:!0}),p.name&&n.a.createElement("span",{className:"form-player-group__err"},p.name)),n.a.createElement("div",{className:"form-player-ctn__form-player-group"},n.a.createElement("select",{className:"form-control form-player-group__ctrl",name:F.INPUT_POSITION},L.map(function(e,t){return n.a.createElement("option",{value:e,key:t},e)}))),n.a.createElement("div",{className:"form-player-ctn__form-player-group"},n.a.createElement("input",{type:"number",name:F.INPUT_AGE,className:"form-control form-player-group__ctrl",placeholder:"Age",defaultValue:c.age}),p.name&&n.a.createElement("span",{className:"form-player-group__err"},p.age)),n.a.createElement("div",{className:"form-player-ctn__form-player-group"},n.a.createElement("button",{type:"submit",className:"btn btn-lg btn-block btn-primary form-player-group__btn"},"Search")))}r(66);function U(e){var t=e.name,r=e.team,a=e.age,l=e.position;return n.a.createElement("tr",null,n.a.createElement("td",null,t),n.a.createElement("td",null,l),n.a.createElement("td",null,r),n.a.createElement("td",null,a))}function C(e){var t=e.players;return n.a.createElement("div",{className:"table-responsive",role:"table","aria-label":"Players","aria-describedby":"players_finder_table"},n.a.createElement("table",{className:"table table-bordered table-striped text-center"},n.a.createElement("thead",{className:"thead-dark"},n.a.createElement("tr",null,n.a.createElement("th",{scope:"col",role:"columnheader"},"Player"),n.a.createElement("th",{scope:"col"},"Position"),n.a.createElement("th",{scope:"col"},"Team"),n.a.createElement("th",{scope:"col"},"Age"))),n.a.createElement("tbody",null,t.map(function(e,t){return n.a.createElement(U,Object.assign({},e,{key:t}))}))))}function D(e){var t=e.onSearch,r=e.players,a=e.loading,l=e.error;return n.a.createElement("section",{className:"player-finder-ctn",role:"section"},n.a.createElement("header",null,n.a.createElement("h1",{className:"player-finder-ctn__title"},"Football Player Finder")),n.a.createElement(R,{onSearch:t}),!a&&!l&&r.length>0&&n.a.createElement(C,{players:r}),!a&&!l&&0===r.length&&n.a.createElement("p",{className:"text-center"},"No results"),!a&&l&&n.a.createElement("p",null,"Err"))}var M=function(e){function t(){var e,r;Object(b.a)(this,t);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return(r=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).handleSearch=function(e){r.props.filterPlayers(e)},r}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPlayers()}},{key:"render",value:function(){return n.a.createElement(D,{players:this.props.players,loading:this.props.loading,error:this.props.error,onSearch:this.handleSearch})}}]),t}(a.Component),B=Object(c.b)(function(e){return Object(u.a)({},e.football)},{fetchPlayers:function(){return function(){var e=Object(j.a)(N.a.mark(function e(t){var r;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:p}),e.prev=1,e.next=4,S.getPlayers();case 4:r=e.sent,t(T(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t((a=e.t0,{type:f,err:a}));case 11:case"end":return e.stop()}var a},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},filterPlayers:function(e){return{type:d,search:e}}})(M);function G(){return n.a.createElement(B,null)}var J=function(e){function t(){var e,r;Object(b.a)(this,t);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return(r=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).state={error:null},r}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidCatch",value:function(e,t){!function(e,t){console.error("mock tracking err",e,t)}(e,t),this.setState({error:e||new Error("Error render component")})}},{key:"render",value:function(){return n.a.createElement(a.Fragment,null,!this.state.error&&this.props.children,this.state.error&&n.a.createElement("p",null,"Error ups!!"))}}]),t}(a.Component),Y=function(){var e=[i.a],t=o.applyMiddleware.apply(void 0,e);return Object(o.createStore)(y,Object(s.composeWithDevTools)(t))}();Object(l.render)(n.a.createElement(function(){return n.a.createElement(c.a,{store:Y},n.a.createElement(J,null,n.a.createElement(G,null)))},null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.744c2994.chunk.js.map